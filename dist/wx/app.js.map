{"version":3,"sources":["webpack:///./src/app.mpx","webpack:///./src/app.ts","webpack:///./node_modules/@mpxjs/api-proxy/src/index.js","webpack:///./node_modules/@mpxjs/api-proxy/src/mini/transform.js","webpack:///./node_modules/@mpxjs/api-proxy/src/common/js/index.js","webpack:///./node_modules/@mpxjs/api-proxy/src/common/js/ToPromise.js","webpack:///./node_modules/@mpxjs/api-proxy/src/common/js/web.js","webpack:///./node_modules/@mpxjs/api-proxy/src/common/js/utils.js","webpack:///./node_modules/@mpxjs/api-proxy/src/mini/platform/wxToAli.js","webpack:///./node_modules/@mpxjs/api-proxy/src/mini/platform/wxToQq.js","webpack:///./node_modules/@mpxjs/api-proxy/src/mini/promisify.js","webpack:///./src/app.mpx?7bb1","webpack:///./src/app.mpx?0f2a"],"names":["mpx","use","apiProxy","usePromise","createApp","onLaunch","install","target","options","whiteList","blackList","platform","exclude","custom","fallbackMap","optimize","from","to","__mpx_src_mode__","console","warn","__mpx_mode__","transedApi","transformApi","promisedApi","promisify","allApi","Object","keys","forEach","api","args","apply","e","k","getProxy","fromMap","genFromMap","joinName","envObj","getEnvObj","fromTo","wxToAliApi","getWxToAliApi","wxToQqApi","getWxToQqApi","platformMap","needProxy","create","excludeMap","makeMap","key","result","length","pop","push","error","ToPromise","_resolve","_reject","resolve","reject","res","err","webHandleSuccess","success","complete","webHandleFail","fail","changeOpts","updateOrRemoveOpt","extraOpt","opts","myKey","hasOwnProperty","handleSuccess","getOptions","noop","thisObj","_this","cacheSuc","changedRes","call","platforms","wx","my","swan","qq","tt","jd","qa","dd","msg","arr","obj","item","inBrowser","window","ALI_OBJ","TIPS_NAME","CANVAS_MAP","systemInfo","getSystemInfo","system","SDKVersion","windowHeight","Math","floor","screenHeight","windowWidth","screenWidth","getSystemInfoSync","nextTick","fn","setTimeout","showToast","title","icon","hideToast","showModal","showCancel","undefined","confirmText","cancelText","confirm","alert","showLoading","hideLoading","showActionSheet","itemList","cacheFail","sucRes","index","tapIndex","errMsg","showNavigationBarLoading","hideNavigationBarLoading","setNavigationBarTitle","setNavigationBar","setNavigationBarColor","request","header","headers","status","canIUse","httpRequest","downloadFile","apFilePath","uploadFile","name","setStorageSync","data","removeStorageSync","getStorageSync","saveImageToPhotosAlbum","previewImage","current","idx","urls","compressImage","quality","compressLevel","round","apFilePaths","src","tempFilePath","chooseImage","getLocation","aliType","type","altitude","saveFile","removeSavedFile","filePath","getSavedFileList","fileList","file","resFile","getSavedFileInfo","getFileInfo","addPhoneContact","weChatNumber","setClipboardData","setClipboard","getClipboardData","text","getClipboard","setScreenBrightness","value","getScreenBrightness","brightness","makePhoneCall","phoneNumber","stopAccelerometer","offAccelerometerChange","startAccelerometer","stopCompass","offCompassChange","startCompass","stopGyroscope","offGyroscopeChange","startGyroscope","scanCode","onlyFromCamera","scanType","code","scan","login","authCode","getAuthCode","checkSession","getUserInfo","withCredentials","lang","userInfo","avatar","gender","params","defineProperty","get","getAuthUserInfo","requestPayment","tradeNO","timeStamp","nonceStr","package","signType","paySign","cacheComplete","resultCode","tradePay","createCanvasContext","canvasId","ctx","canvasToTempFilePath","toTempFilePath","canvasPutImageData","putImageData","canvasGetImageData","getImageData","createSelectorQuery","selectorQuery","proxyMethods","cbs","originalMethod","cb","originalExec","exec","originalCb","results","in","closeBLEConnection","disconnectBLEDevice","createBLEConnection","connectBLEDevice","QQ_OBJ","requestSubscribeMessage","subscribe","subscribeAppMsg","getMapFromList","list","map","listObj","customBlackList","whiteListMap","blackListMap","promisifyFilter","test","unshift","returned","promise","originSuccess","originFail","__returned"],"mappings":"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","file":"app.js","sourcesContent":["global.currentModuleId\n/* script */\nexport * from \"./app.ts?resourcePath=%2FUsers%2Fdidi%2FDesktop%2F%E8%87%AA%E5%B7%B1%E7%9A%84%E9%A1%B9%E7%9B%AE%2Ftailwind-demo%2Fsrc%2Fapp.mpx\"\n\n/* styles */\nrequire(\"!!../node_modules/@mpxjs/webpack-plugin/lib/extractor?{\\\"type\\\":\\\"styles\\\",\\\"index\\\":0}!../node_modules/@mpxjs/webpack-plugin/lib/wxss/loader?root=/Users/didi/Desktop/自己的项目/tailwind-demo&extract=true!../node_modules/@mpxjs/webpack-plugin/lib/style-compiler/index?{\\\"moduleId\\\":\\\"mpx-app-scope\\\",\\\"scoped\\\":false}!../node_modules/@mpxjs/webpack-plugin/lib/selector?{\\\"type\\\":\\\"styles\\\",\\\"index\\\":0}!./app.mpx\")\n\n/* json */\nrequire(\"!!../node_modules/@mpxjs/webpack-plugin/lib/extractor?{\\\"type\\\":\\\"json\\\",\\\"index\\\":0}!../node_modules/@mpxjs/webpack-plugin/lib/json-compiler/index?root=/Users/didi/Desktop/自己的项目/tailwind-demo!../node_modules/@mpxjs/webpack-plugin/lib/selector?{\\\"type\\\":\\\"json\\\",\\\"index\\\":0}!./app.mpx\")\n\n/* template */\n","import mpx, { createApp } from '@mpxjs/core';\nimport apiProxy from '@mpxjs/api-proxy';\nmpx.use(apiProxy, { usePromise: true });\ncreateApp({\n    onLaunch() {\n        // onLaunch\n    }\n});\n","import transformApi from './mini/transform'\nimport promisify from './mini/promisify'\n\nexport default function install (target, options = {}) {\n  const {\n    usePromise = false, // 是否转为 promise 格式\n    whiteList = [], // 强制变成 promise 格式的 api\n    blackList = [], // 强制不变成 promise 格式的 api\n    platform = {},\n    exclude = ['shareImageMessage'], // 强制不进行代理的api，临时fix微信分享朋友圈白屏\n    custom = {}, // 自定义转化规则\n    fallbackMap = {}, // 对于不支持的API，允许配置一个映射表，接管不存在的API\n    optimize = false // 内部一些实验优化的开关，外部用户慎用\n  } = options\n\n  let { from = '', to = '' } = platform\n  /* eslint-disable camelcase, no-undef */\n  if (typeof __mpx_src_mode__ !== 'undefined') {\n    if (from && from !== __mpx_src_mode__) {\n      console.warn && console.warn('the platform from field inconsistent with the current environment value\\n')\n    }\n    from = `__mpx_src_mode_${__mpx_src_mode__}__`\n  } else {\n    if (!from) {\n      from = 'wx'\n      console.warn && console.warn('the platform from field is empty, wx will be used by default\\n')\n    }\n    from = `__mpx_src_mode_${from}__`\n  }\n\n  if (typeof __mpx_mode__ !== 'undefined') {\n    to = __mpx_mode__\n  } else if (!to) {\n    console.warn && console.warn('the platform to field is empty, ali will be used by default\\n')\n    to = 'wx'\n  }\n  /* eslint-enable */\n\n  const transedApi = transformApi({\n    exclude,\n    from,\n    to,\n    custom,\n    optimize\n  })\n\n  const promisedApi = usePromise ? promisify(transedApi, whiteList, blackList) : {}\n  const allApi = Object.assign({}, transedApi, promisedApi)\n\n  Object.keys(allApi).forEach(api => {\n    try {\n      if (typeof allApi[api] !== 'function') {\n        target[api] = allApi[api]\n        return\n      }\n\n      target[api] = (...args) => {\n        return allApi[api].apply(target, args)\n      }\n    } catch (e) {\n    } // 支付宝不支持重写 call 方法\n  })\n\n  // Fallback Map option\n  Object.keys(fallbackMap)\n    .forEach(k => {\n      if (!target[k]) {\n        target[k] = fallbackMap[k]\n      }\n    })\n}\n\nexport function getProxy (options = {}) {\n  let apiProxy = {}\n  install(apiProxy, options)\n  return apiProxy\n}\n","import { error, getEnvObj, genFromMap, makeMap } from '../common/js'\nimport getWxToAliApi from './platform/wxToAli'\nimport getWxToQqApi from './platform/wxToQq'\n\nconst fromMap = genFromMap()\n\nfunction joinName (from = '', to = '') {\n  return `${fromMap[from]}_${to}`\n}\n\nfunction transformApi (options) {\n  const envObj = getEnvObj()\n  const from = options.from\n  const to = options.to\n  const fromTo = joinName(from, to)\n  const wxToAliApi = getWxToAliApi({ optimize: options.optimize })\n  const wxToQqApi = getWxToQqApi({ optimize: options.optimize })\n  const platformMap = {\n    'wx_ali': wxToAliApi,\n    'wx_qq': wxToQqApi\n  }\n  const needProxy = Object.create(null)\n  const excludeMap = makeMap(options.exclude)\n  const transedApi = platformMap[fromTo] || {}\n  Object.keys(envObj).concat(Object.keys(transedApi)).forEach((key) => {\n    if (!excludeMap[key]) {\n      needProxy[key] = envObj[key] || transedApi[key]\n    }\n  })\n  const result = Object.create(null)\n  Object.keys(needProxy).forEach(api => {\n    // 非函数不做转换\n    if (typeof needProxy[api] !== 'function') {\n      result[api] = needProxy[api]\n      return\n    }\n\n    result[api] = (...args) => {\n      let from = options.from\n      const to = options.to\n      if (args.length > 0) {\n        from = args.pop()\n        if (typeof from !== 'string' || !fromMap[from]) {\n          args.push(from)\n          from = options.from\n        }\n      }\n\n      const fromTo = joinName(from, to)\n      if (options.custom[fromTo] && options.custom[fromTo][api]) {\n        return options.custom[fromTo][api].apply(this, args)\n      } else if (\n        platformMap[fromTo] &&\n        platformMap[fromTo][api]\n      ) {\n        return platformMap[fromTo][api].apply(this, args)\n      } else if (envObj[api]) {\n        return envObj[api].apply(this, args)\n      } else {\n        error(`当前环境不存在 ${api} 方法`)\n      }\n    }\n  })\n\n  return result\n}\n\nexport default transformApi\n","export * from './ToPromise'\nexport * from './web'\nexport * from './utils'\n","class ToPromise {\n  constructor () {\n    this._resolve = null\n    this._reject = null\n  }\n  toPromiseInitPromise () {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve\n      this._reject = reject\n    })\n  }\n  toPromiseResolve (res) {\n    this._resolve(res)\n  }\n  toPromiseReject (err) {\n    this._reject(err)\n  }\n}\n\nexport {\n  ToPromise\n}\n","function webHandleSuccess (result, success, complete) {\n  typeof success === 'function' && success(result)\n  typeof complete === 'function' && complete(result)\n}\n\nfunction webHandleFail (result, fail, complete) {\n  typeof fail === 'function' && fail(result)\n  typeof complete === 'function' && complete(result)\n}\n\nexport {\n  webHandleSuccess,\n  webHandleFail\n}\n","/**\n *\n * @param {Object} options 原参数\n * @param {Object} updateOrRemoveOpt 要修改或者删除的参数\n * @param {Object} extraOpt 额外增加的参数\n * @returns {Object} 返回参数\n * @example\n * changeOpts({ a: 1, b: 2 }, {\n *  a: 'c', // a 变为 c\n *  b: '' // 删除 b\n * }, {\n *  d: 4 // 增加 d\n * })\n */\n\nfunction changeOpts (options, updateOrRemoveOpt = {}, extraOpt = {}) {\n  let opts = {}\n\n  Object.keys(options).forEach(key => {\n    let myKey = updateOrRemoveOpt.hasOwnProperty(key) ? updateOrRemoveOpt[key] : key\n    if (myKey !== '') {\n      opts[myKey] = options[key]\n    }\n  })\n\n  opts = Object.assign({}, opts, extraOpt)\n\n  return opts\n}\n\n/**\n * @param {Object} opts 原参数\n * @param {Function} getOptions 获取 success 回调修改后的参数\n */\nconst handleSuccess = (opts, getOptions = noop, thisObj) => {\n  if (!opts.success) {\n    return\n  }\n  const _this = thisObj || this\n  const cacheSuc = opts.success\n  opts.success = res => {\n    const changedRes = getOptions(res) || res\n    cacheSuc.call(_this, changedRes)\n  }\n}\n\nfunction genFromMap () {\n  const result = {}\n  const platforms = ['wx', 'ali', 'swan', 'qq', 'tt', 'web', 'qa', 'jd', 'dd']\n  platforms.forEach((platform) => {\n    result[`__mpx_src_mode_${platform}__`] = platform\n  })\n  return result\n}\n\nfunction getEnvObj () {\n  switch (__mpx_mode__) {\n    case 'wx':\n      return wx\n    case 'ali':\n      return my\n    case 'swan':\n      return swan\n    case 'qq':\n      return qq\n    case 'tt':\n      return tt\n    case 'jd':\n      return jd\n    case 'qa':\n      return qa\n    case 'dd':\n      return dd\n  }\n}\n\nfunction warn (msg) {\n  console.warn && console.warn(`[@mpxjs/api-proxy warn]:\\n ${msg}`)\n}\n\nfunction error (msg) {\n  console.error && console.error(`[@mpxjs/api-proxy error]:\\n ${msg}`)\n}\n\nfunction noop () {\n}\n\nfunction makeMap (arr) {\n  return arr.reduce((obj, item) => {\n    obj[item] = true\n    return obj\n  }, {})\n}\n\nconst inBrowser = typeof window !== 'undefined'\n\nexport {\n  changeOpts,\n  handleSuccess,\n  genFromMap,\n  getEnvObj,\n  error,\n  warn,\n  noop,\n  makeMap,\n  inBrowser\n}\n","import { changeOpts, handleSuccess, getEnvObj, error, warn, noop } from '../../common/js'\n\nconst ALI_OBJ = getEnvObj()\nconst TIPS_NAME = '支付宝环境 mpx'\n\n// canvas api 用\nconst CANVAS_MAP = {}\n\n// optimize case avoid call api multi times with getSystemInfoSync\nlet systemInfo\n\nconst getWxToAliApi = ({ optimize = false }) => {\n  return {\n    /**\n     * 基础\n     */\n\n    getSystemInfo (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        res.system = `${res.platform} ${res.system}`\n        res.SDKVersion = ALI_OBJ.SDKVersion\n\n        // 支付宝 windowHeight 可能为 0\n        if (!res.windowHeight) {\n          res.windowHeight = Math.floor(res.screenHeight * res.windowWidth / res.screenWidth) - 50\n        }\n\n        return res\n      })\n\n      ALI_OBJ.getSystemInfo(opts)\n    },\n\n    getSystemInfoSync () {\n      if (optimize) {\n        if (systemInfo) return systemInfo\n      }\n\n      let res = ALI_OBJ.getSystemInfoSync() || {}\n\n      res.system = `${res.platform} ${res.system}`\n      res.SDKVersion = ALI_OBJ.SDKVersion\n\n      // 支付宝 windowHeight 可能为 0\n      if (!res.windowHeight) {\n        res.windowHeight = Math.floor(res.screenHeight * res.windowWidth / res.screenWidth) - 50\n      }\n\n      if (optimize) systemInfo = res\n\n      return res\n    },\n\n    nextTick (fn) {\n      setTimeout(fn)\n    },\n\n    /**\n     * 界面\n     */\n\n    showToast (options = {}) {\n      const opts = changeOpts(options, {\n        title: 'content',\n        icon: 'type'\n      })\n      ALI_OBJ.showToast(opts)\n    },\n\n    hideToast (options = {}) {\n      if (options.success || options.fail || options.complete) {\n        warn(`${TIPS_NAME}.hideToast 不支持 success/fail/complete 参数`)\n      }\n      ALI_OBJ.hideToast(options)\n    },\n\n    showModal (options = {}) {\n      let opts\n\n      if (options.showCancel === undefined || options.showCancel) {\n        opts = changeOpts(options, {\n          confirmText: 'confirmButtonText',\n          cancelText: 'cancelButtonText'\n        })\n\n        handleSuccess(opts, res => {\n          return changeOpts(res, undefined, { 'cancel': !res.confirm })\n        })\n\n        ALI_OBJ.confirm(opts)\n      } else {\n        opts = changeOpts(options, {\n          confirmText: 'buttonText'\n        })\n\n        ALI_OBJ.alert(opts)\n      }\n    },\n\n    showLoading (options = {}) {\n      const opts = changeOpts(options, {\n        title: 'content'\n      })\n      ALI_OBJ.showLoading(opts)\n    },\n\n    hideLoading (options = {}) {\n      if (options.success || options.fail || options.complete) {\n        warn(`${TIPS_NAME}.hideLoading 不支持 success/fail/complete 参数`)\n      }\n      ALI_OBJ.hideLoading(options)\n    },\n\n    showActionSheet (options = {}) {\n      const opts = changeOpts(options, {\n        itemList: 'items'\n      })\n\n      const cacheSuc = opts.success || noop\n      const cacheFail = opts.fail || noop\n\n      opts.success = function (res) {\n        let sucRes = changeOpts(res, {\n          index: 'tapIndex'\n        })\n        if (sucRes.tapIndex === -1) {\n          cacheFail.call(this, {\n            errMsg: 'showActionSheet:fail cancel'\n          })\n        } else {\n          cacheSuc.call(this, sucRes)\n        }\n      }\n\n      ALI_OBJ.showActionSheet(opts)\n    },\n\n    showNavigationBarLoading (options = {}) {\n      if (options.success || options.fail || options.complete) {\n        warn(`${TIPS_NAME}.showNavigationBarLoading 不支持 success/fail/complete 参数`)\n      }\n      ALI_OBJ.showNavigationBarLoading(options)\n    },\n\n    hideNavigationBarLoading (options = {}) {\n      if (options.success || options.fail || options.complete) {\n        warn(`${TIPS_NAME}.hideNavigationBarLoading 不支持 success/fail/complete 参数`)\n      }\n      ALI_OBJ.hideNavigationBarLoading(options)\n    },\n\n    setNavigationBarTitle (options = {}) {\n      ALI_OBJ.setNavigationBar(options)\n    },\n\n    setNavigationBarColor (options = {}) {\n      ALI_OBJ.setNavigationBar(options)\n    },\n\n    /**\n     * 网络\n     */\n\n    request (options = {}) {\n      const opts = changeOpts(options, {\n        header: 'headers'\n      })\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, {\n          headers: 'header',\n          status: 'statusCode'\n        })\n      })\n\n      // request 在 1.11.0 以上版本才支持\n      // httpRequest 即将被废弃，钉钉端仍需要使用\n      if (ALI_OBJ.canIUse('request')) {\n        return ALI_OBJ.request(opts)\n      } else {\n        return ALI_OBJ.httpRequest(opts)\n      }\n    },\n\n    downloadFile (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { apFilePath: 'tempFilePath' })\n      })\n\n      return ALI_OBJ.downloadFile(opts)\n    },\n\n    uploadFile (options = {}) {\n      const opts = changeOpts(options, { name: 'fileName' })\n\n      return ALI_OBJ.uploadFile(opts)\n    },\n\n    /**\n     * 数据缓存\n     */\n\n    setStorageSync (key, data) {\n      ALI_OBJ.setStorageSync({\n        key,\n        data\n      })\n    },\n\n    removeStorageSync (key) {\n      ALI_OBJ.removeStorageSync({\n        key\n      })\n    },\n\n    getStorageSync (key) {\n      return ALI_OBJ.getStorageSync({\n        key\n      }).data\n    },\n\n    /**\n     * 媒体\n     */\n\n    saveImageToPhotosAlbum (key) {\n      warn(`如果想要保存在线图片链接，可以直接使用 ${TIPS_NAME}.saveImage`)\n    },\n\n    previewImage (options = {}) {\n      const opts = changeOpts(options)\n\n      if (opts.current) {\n        let idx = options.urls.indexOf(opts.current)\n        opts.current = idx !== -1 ? idx : 0\n      }\n\n      ALI_OBJ.previewImage(opts)\n    },\n\n    compressImage (options = {}) {\n      const opts = changeOpts(options, {\n        quality: ''\n      }, {\n        compressLevel: Math.round(options.quality / 100 * 4), // 支付宝图片压缩质量为 0 ~ 4，微信是 0 ~ 100\n        apFilePaths: [options.src]\n      })\n\n      handleSuccess(opts, res => {\n        return changeOpts(\n          res,\n          { apFilePaths: '' },\n          { tempFilePath: res.apFilePaths[0] }\n        )\n      })\n\n      ALI_OBJ.compressImage(opts)\n    },\n\n    chooseImage (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { apFilePaths: 'tempFilePaths' })\n      })\n\n      ALI_OBJ.chooseImage(opts)\n    },\n\n    /**\n     * 位置\n     */\n\n    getLocation (options = {}) {\n      if (options.aliType === undefined && options.type) {\n        warn(`如果要针对支付宝设置 ${TIPS_NAME}.getLocation 中的 type 参数，请使用 aliType, 取值为 0~3`)\n        options.aliType = 0\n      }\n      if (options.altitude) {\n        error(`支付宝 ${TIPS_NAME}.getLocation 不支持获取高度信息`)\n      }\n\n      const opts = changeOpts(options, {\n        type: '',\n        aliType: 'type'\n      })\n\n      ALI_OBJ.getLocation(opts)\n    },\n\n    /**\n     * 文件\n     */\n\n    saveFile (options = {}) {\n      const opts = changeOpts(options, {\n        tempFilePath: 'apFilePath'\n      })\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { apFilePath: 'savedFilePath' })\n      })\n\n      ALI_OBJ.saveFile(opts)\n    },\n\n    removeSavedFile (options = {}) {\n      const opts = changeOpts(options, {\n        filePath: 'apFilePath'\n      })\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { apFilePath: 'savedFilePath' })\n      })\n\n      ALI_OBJ.removeSavedFile(opts)\n    },\n\n    getSavedFileList (options = {}) {\n      const opts = changeOpts(options, {\n        filePath: 'apFilePath'\n      })\n\n      handleSuccess(opts, res => {\n        if (res.fileList) {\n          res.fileList.forEach(file => {\n            let resFile = changeOpts(file, {\n              apFilePath: 'filePath'\n            })\n            file = resFile\n          })\n        }\n        return res\n      })\n\n      ALI_OBJ.getSavedFileList(opts)\n    },\n\n    getSavedFileInfo (options = {}) {\n      const opts = changeOpts(options, {\n        filePath: 'apFilePath'\n      })\n\n      ALI_OBJ.getSavedFileInfo(opts)\n    },\n\n    getFileInfo (options = {}) {\n      const opts = changeOpts(options, {\n        filePath: 'apFilePath'\n      })\n\n      ALI_OBJ.getFileInfo(opts)\n    },\n\n    /**\n     * 设备\n     */\n\n    addPhoneContact (options = {}) {\n      const opts = changeOpts(options, {\n        weChatNumber: 'alipayAccount'\n      })\n\n      ALI_OBJ.addPhoneContact(opts)\n    },\n\n    setClipboardData (options = {}) {\n      const opts = changeOpts(options, {\n        data: 'text'\n      })\n\n      ALI_OBJ.setClipboard(opts)\n    },\n\n    getClipboardData (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { text: 'data' })\n      })\n\n      ALI_OBJ.getClipboard(opts)\n    },\n\n    setScreenBrightness (options = {}) {\n      const opts = changeOpts(options, {\n        value: 'brightness'\n      })\n\n      ALI_OBJ.setScreenBrightness(opts)\n    },\n\n    getScreenBrightness (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { brightness: 'value' })\n      })\n\n      ALI_OBJ.getScreenBrightness(opts)\n    },\n\n    makePhoneCall (options = {}) {\n      const opts = changeOpts(options, {\n        phoneNumber: 'number'\n      })\n\n      ALI_OBJ.makePhoneCall(opts)\n    },\n\n    stopAccelerometer (options = {}) {\n      ALI_OBJ.offAccelerometerChange(options)\n    },\n\n    startAccelerometer () {\n      warn(`支付宝加速计不需要使用 ${TIPS_NAME}.startAccelerometer 开始，可以直接在 ${TIPS_NAME}.onAccelerometerChange 中监听`)\n    },\n\n    stopCompass (options = {}) {\n      ALI_OBJ.offCompassChange(options)\n    },\n\n    startCompass () {\n      warn(`支付宝罗盘不需要使用 ${TIPS_NAME}.startCompass 开始，可以直接在 ${TIPS_NAME}.onCompassChange 中监听`)\n    },\n\n    stopGyroscope (options = {}) {\n      ALI_OBJ.offGyroscopeChange(options)\n    },\n\n    startGyroscope () {\n      warn(`支付宝陀螺仪不需要使用 ${TIPS_NAME}.startGyroscope 开始，可以直接在 ${TIPS_NAME}.onGyroscopeChange 中监听`)\n    },\n\n    scanCode (options = {}) {\n      const opts = changeOpts(options, {\n        onlyFromCamera: 'hideAlbum',\n        scanType: 'type'\n      })\n\n      if (opts.type) {\n        switch (opts.type) {\n          case 'barCode':\n            opts.type = 'bar'\n            break\n          case 'qrCode':\n            opts.type = 'qr'\n            break\n          default:\n            error(`${TIPS_NAME}.scanCode 只支持扫描条形码和二维码，请将 type 设置为 barCode/qrCode`)\n            opts.type = 'qr'\n            break\n        }\n      }\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { code: 'result' })\n      })\n\n      ALI_OBJ.scan(opts)\n    },\n\n    /**\n     * 开放接口\n     */\n\n    login (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { authCode: 'code' })\n      })\n\n      ALI_OBJ.getAuthCode(opts)\n    },\n\n    checkSession () {\n      warn(`支付宝不支持 ${TIPS_NAME}.checkSession 检查登录过期`)\n    },\n\n    getUserInfo (options = {}) {\n      if (options.withCredentials === true) {\n        warn(`支付宝不支持在 ${TIPS_NAME}.getUserInfo 使用 withCredentials 参数中获取等敏感信息`)\n      }\n      if (options.lang) {\n        warn(`支付宝不支持在 ${TIPS_NAME}.getUserInfo 中使用 lang 参数`)\n      }\n\n      let opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        let userInfo = changeOpts(res, { avatar: 'avatarUrl' }, { gender: 0 })\n        const params = ['country', 'province', 'city', 'language']\n\n        params.forEach(key => {\n          Object.defineProperty(userInfo, key, {\n            get () {\n              warn(`支付宝 ${TIPS_NAME}.getUserInfo 不能获取 ${key}`)\n              return ''\n            }\n          })\n        })\n\n        return {\n          userInfo\n        }\n      })\n\n      ALI_OBJ.getAuthUserInfo(opts)\n    },\n\n    requestPayment (options = {}) {\n      if (!options.tradeNO) {\n        error(`请在支付函数 ${TIPS_NAME}.requestPayment 中添加 tradeNO 参数用于支付宝支付`)\n      }\n\n      let opts = changeOpts(options, {\n        timeStamp: '',\n        nonceStr: '',\n        package: '',\n        signType: '',\n        paySign: ''\n      })\n\n      const cacheSuc = opts.success || noop\n      const cacheFail = opts.fail || noop\n\n      // 抹平用微信的 complete\n      if (typeof opts.complete === 'function') {\n        const cacheComplete = opts.complete\n        opts.complete = function (res) {\n          if (+res.resultCode === 9000) {\n            res.errMsg = 'requestPayment:ok'\n            cacheComplete.call(this, res)\n          }\n        }\n      }\n\n      opts.success = function (res) {\n        if (+res.resultCode === 9000) {\n          cacheSuc.call(this, res)\n        } else {\n          cacheFail.call(this, res)\n        }\n      }\n\n      ALI_OBJ.tradePay(opts)\n    },\n\n    /**\n     * 画布\n     */\n\n    createCanvasContext (canvasId = {}) {\n      let ctx = ALI_OBJ.createCanvasContext(canvasId)\n\n      CANVAS_MAP[canvasId] = ctx\n\n      return ctx\n    },\n\n    canvasToTempFilePath (options = {}) {\n      if (!CANVAS_MAP[options.canvasId]) {\n        error(`支付宝调用 ${TIPS_NAME}.toTempFilePath 方法之前需要先调用 ${TIPS_NAME}.createCanvasContext 创建 context`)\n        return\n      }\n\n      const opts = changeOpts(options, { canvasId: '' })\n      const ctx = CANVAS_MAP[options.canvasId]\n\n      handleSuccess(opts, res => {\n        return changeOpts(\n          res,\n          { apFilePath: 'tempFilePath' },\n          { errMsg: 'canvasToTempFilePath:ok' }\n        )\n      })\n\n      ctx.toTempFilePath(opts)\n    },\n\n    canvasPutImageData (options = {}) {\n      if (!CANVAS_MAP[options.canvasId]) {\n        error(`支付宝调用 ${TIPS_NAME}.putImageData 方法之前需要先调用 ${TIPS_NAME}.createCanvasContext 创建 context`)\n        return\n      }\n\n      const opts = changeOpts(options, { canvasId: '' })\n      const ctx = CANVAS_MAP[options.canvasId]\n\n      // success 里面的 this 指向参数 options\n      handleSuccess(opts, res => {\n        return changeOpts(res, undefined, { errMsg: 'canvasPutImageData:ok' }\n        )\n      }, options)\n\n      ctx.putImageData(opts)\n    },\n\n    canvasGetImageData (options = {}) {\n      if (!CANVAS_MAP[options.canvasId]) {\n        error(`支付宝调用 ${TIPS_NAME}.getImageData 方法之前需要先调用 ${TIPS_NAME}.createCanvasContext 创建 context`)\n        return\n      }\n\n      const opts = changeOpts(options, { canvasId: '' })\n      const ctx = CANVAS_MAP[options.canvasId]\n\n      // success 里面的 this 指向参数 options\n      handleSuccess(opts, undefined, options)\n\n      ctx.getImageData(opts)\n    },\n\n    /**\n     * WXML\n     */\n\n    createSelectorQuery (options = {}) {\n      const selectorQuery = ALI_OBJ.createSelectorQuery(options)\n      const proxyMethods = ['boundingClientRect', 'scrollOffset']\n      const cbs = []\n      proxyMethods.forEach((name) => {\n        const originalMethod = selectorQuery[name]\n        selectorQuery[name] = function (cb = noop) {\n          cbs.push(cb)\n          return originalMethod.call(this)\n        }\n      })\n\n      const originalExec = selectorQuery.exec\n      selectorQuery.exec = function (originalCb = noop) {\n        const cb = function (results) {\n          results.forEach((item, index) => {\n            cbs[index](item)\n          })\n          originalCb(results)\n        }\n        return originalExec.call(this, cb)\n      }\n\n      selectorQuery.in = function () {\n        return this\n      }\n\n      return selectorQuery\n    },\n\n    closeBLEConnection (options = {}) {\n      ALI_OBJ.disconnectBLEDevice(options)\n    },\n\n    createBLEConnection (options = {}) {\n      ALI_OBJ.connectBLEDevice(options)\n    }\n  }\n}\n\nexport default getWxToAliApi\n","import { changeOpts, getEnvObj } from '../../common/js'\n\nconst QQ_OBJ = getEnvObj()\n\nconst getWxToQqApi = ({ optimize = false }) => {\n  return {\n    /**\n     * 订阅消息\n     * @param options\n     */\n    requestSubscribeMessage (options = {}) {\n      const opts = changeOpts(options, undefined, {\n        subscribe: true\n      })\n      QQ_OBJ.subscribeAppMsg(opts)\n    }\n  }\n}\n\nexport default getWxToQqApi\n","import { genFromMap, getEnvObj, noop } from '../common/js'\n\nconst envObj = getEnvObj()\n\n// 特别指定的不进行Promise封装的方法\nconst blackList = [\n  'clearStorage',\n  'hideToast',\n  'hideLoading',\n  'drawCanvas',\n  'canIUse',\n  'stopRecord',\n  'pauseVoice',\n  'stopVoice',\n  'pauseBackgroundAudio',\n  'stopBackgroundAudio',\n  'showNavigationBarLoading',\n  'hideNavigationBarLoading',\n  'createAnimation',\n  'createAnimationVideo',\n  'createSelectorQuery',\n  'createIntersectionObserver',\n  'hideKeyboard',\n  'stopPullDownRefresh',\n  'createWorker',\n  'pageScrollTo',\n  'reportAnalytics',\n  'getMenuButtonBoundingClientRect',\n  'reportMonitor',\n  'createOffscreenCanvas'\n]\n\nfunction getMapFromList (list) {\n  if (list && list.length) {\n    const map = {}\n    list.forEach((item) => {\n      map[item] = true\n    })\n    return map\n  }\n}\n\nfunction promisify (listObj, whiteList, customBlackList) {\n  const result = {}\n  const whiteListMap = getMapFromList(whiteList)\n  const blackListMap = getMapFromList(blackList.concat(customBlackList))\n  const fromMap = genFromMap()\n\n  function promisifyFilter (key) {\n    if (whiteListMap && whiteListMap[key] !== undefined) {\n      return !!whiteListMap[key]\n    } else {\n      return !(blackListMap[key] || // 特别指定的方法\n        /^get\\w*Manager$/.test(key) || // 获取manager的api\n        /^create\\w*Context$/.test(key) || // 创建上下文相关api\n        /^(on|off)/.test(key) || // 以 on* 或 off开头的方法\n        /\\w+Sync$/.test(key) // 以Sync结尾的方法\n      )\n    }\n  }\n\n  Object.keys(listObj).forEach(key => {\n    if (typeof listObj[key] !== 'function') {\n      return\n    }\n\n    result[key] = function (...args) {\n      if (promisifyFilter(key)) {\n        if (!args[0] || fromMap[args[0]]) {\n          args.unshift({ success: noop, fail: noop })\n        }\n        const obj = args[0]\n        let returned\n        const promise = new Promise((resolve, reject) => {\n          const originSuccess = obj.success\n          const originFail = obj.fail\n          obj.success = function (res) {\n            originSuccess && originSuccess.call(this, res)\n            resolve(res)\n          }\n          obj.fail = function (e) {\n            originFail && originFail.call(this, e)\n            reject(e)\n          }\n          returned = listObj[key].apply(envObj, args)\n        })\n        promise.__returned = returned\n        return promise\n      } else {\n        return listObj[key].apply(envObj, args)\n      }\n    }\n  })\n\n  return result\n}\n\nexport default promisify\n","// removed by extractor","// removed by extractor"],"sourceRoot":""}